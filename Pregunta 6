import pandas as pd
import yfinance as yf

# Probar descarga del historial de precios de GameStop
try:
    gme = yf.Ticker("GME")
    gme_history = gme.history(period="max").reset_index()
    print("✅ Historial de GME cargado correctamente:")
    print(gme_history.head())
except Exception as e:
    print("❌ Error al cargar historial de precios:", e)

# Probar lectura desde Macrotrends
try:
    url = "https://www.macrotrends.net/stocks/charts/GME/gamestop/revenue"
    tables = pd.read_html(url)
    print(f"✅ Se encontraron {len(tables)} tablas en la página.")
    print("Primeras filas de la primera tabla:")
    print(tables[0].head())
except Exception as e:
    print("❌ Error al leer la tabla de ingresos:", e)
